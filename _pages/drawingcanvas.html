---
layout: default
permalink: /DrawingCanvas
title: "Drawing Canvas"
excerpt: "Drawing Canvas"
    
---

<!-- https://medium.com/@joehanson/multi-user-javascript-virtual-whiteboard-28e4b24ef3e2 -->

Color: <input type="color" id="colorpicker" name="colorpicker" value="#ff0000">
<br>

<canvas id="drawCanvas" width="800" height="600" style="border:1px solid #000000;"></canvas>

<script type="text/javascript">
var canvas = document.getElementById('drawCanvas');
var ctx = canvas.getContext('2d');
var colorpicker = document.getElementById('colorpicker');

ctx.lineWidth = '3';

canvas.addEventListener('mousedown', startDraw, false);
canvas.addEventListener('mousemove', draw, false);
canvas.addEventListener('mouseup', endDraw, false);

// create a flag
var isActive = false;

// array to collect coordinates
var plots = [];

function drawOnCanvas(color) {
  console.log(plots[0].x);
  console.log(plots[0].y);
  
  color = colorpicker.value;
  
  console.log(color);
  
  ctx.strokeStyle = color;
  
  ctx.beginPath();
  ctx.moveTo(plots[0].x, plots[0].y);

  for(var i=1; i<plots.length; i++) {
    ctx.lineTo(plots[i].x, plots[i].y);
  }
  ctx.stroke();
}

function draw(e) {
  if(!isActive) return;

  // cross-browser canvas coordinates
  var x = e.offsetX || e.layerX - canvas.offsetLeft;
  var y = e.offsetY || e.layerY - canvas.offsetTop;

  plots.push({x: x, y: y});
  
  drawOnCanvas();
}

function startDraw(e) {
  isActive = true;
}

function endDraw(e) {
  isActive = false;

  // empty the array
  plots = [];
}
</script>